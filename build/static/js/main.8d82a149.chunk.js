(this["webpackJsonprick-and-morty"]=this["webpackJsonprick-and-morty"]||[]).push([[0],{35:function(e,n,t){},54:function(e,n,t){},67:function(e,n,t){"use strict";t.r(n);t(54);var i,c=t(21),a=t(4),s=t.n(a),d=t(50),l=t.n(d),r=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,68)).then((function(n){var t=n.getCLS,i=n.getFID,c=n.getFCP,a=n.getLCP,s=n.getTTFB;t(e),i(e),c(e),a(e),s(e)}))},o=(t(35),t.p+"static/media/Logo.d8bb791a.svg"),j=t.p+"static/media/Logo-mobile.edcbcb60.svg",u=t(51),v=t(20),b=t.p+"static/media/Loading.d6d4d401.svg",h=t(3),m=function(){return Object(h.jsxs)("div",{className:"search__loading",children:[Object(h.jsx)("img",{alt:"Loading",className:"search__loading--image",src:b}),Object(h.jsx)("p",{className:"search__loading--text",children:"Loading"})]})},_=function(e){var n,t,i,c=Object(a.useState)("It can't be told if it is alive or dead."),s=Object(v.a)(c,2),d=s[0],l=s[1];return Object(a.useEffect)((function(){"Alive"===(null===e||void 0===e?void 0:e.status)?"Male"===(null===e||void 0===e?void 0:e.gender)?l("He is alive and well."):"Female"===(null===e||void 0===e?void 0:e.gender)?l("She is alive and well."):l("It is alive and well."):"Dead"===(null===e||void 0===e?void 0:e.status)?"Male"===(null===e||void 0===e?void 0:e.gender)?l("He is dead."):"Female"===(null===e||void 0===e?void 0:e.gender)?l("She is dead."):l("It is dead."):"Male"===(null===e||void 0===e?void 0:e.gender)?l("It can't be told if he is alive or dead."):"Female"===(null===e||void 0===e?void 0:e.gender)&&l("It can't be told if she is alive or dead.")}),[null===e||void 0===e?void 0:e.gender,null===e||void 0===e?void 0:e.status]),Object(h.jsxs)("div",{className:"card__details__text--about",children:[Object(h.jsx)("h1",{className:"card__details__text--tittle",children:"A B O U T"}),Object(h.jsxs)("p",{children:[null===e||void 0===e?void 0:e.name," is a ",null===e||void 0===e?void 0:e.gender," ",null===e||void 0===e?void 0:e.species,"."," ",d," Last seen in"," ",null===e||void 0===e||null===(n=e.episode)||void 0===n||null===(t=n[(null===e||void 0===e||null===(i=e.episode)||void 0===i?void 0:i.length)-1])||void 0===t?void 0:t.air_date,"."]})]})},g=t.p+"static/media/Residents.24993016.svg",O=function(e){var n,t,i,c=e.place,a=e.text;return Object(h.jsxs)("div",{className:"card__details__text--origin",children:[Object(h.jsx)("h1",{className:"card__details__text--tittle",children:a}),Object(h.jsx)("p",{children:(null===c||void 0===c?void 0:c.type)||"Unknown Planet"}),Object(h.jsx)("h2",{children:(null===c||void 0===c?void 0:c.name)||"Unknown"}),Object(h.jsx)("span",{children:(null===c||void 0===c?void 0:c.dimension)||"Unknown dimension"}),(null===c||void 0===c||null===(n=c.residents)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.name)&&Object(h.jsxs)("div",{className:"card__details__text--residents",children:[Object(h.jsx)("img",{alt:"Residentes icon",src:g}),Object(h.jsx)("p",{children:(null===c||void 0===c||null===(i=c.residents)||void 0===i?void 0:i.length)+" residents"})]})]})},x=function(e){var n=e.character,t=e.selected,i=null===n||void 0===n?void 0:n.location,c=null===n||void 0===n?void 0:n.origin;return t===n.id?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"card__details__image",children:[Object(h.jsx)("img",{alt:"Card Detail Blur",className:"card__details__image--blur",src:null===n||void 0===n?void 0:n.image}),Object(h.jsxs)("div",{className:"card__details__image--regular",children:[Object(h.jsx)("img",{alt:"Card Detail",src:null===n||void 0===n?void 0:n.image}),Object(h.jsxs)("div",{className:"card__details__image--text",children:[Object(h.jsx)("span",{children:null===n||void 0===n?void 0:n.name}),Object(h.jsx)("p",{children:null===n||void 0===n?void 0:n.species})]})]})]}),Object(h.jsxs)("div",{className:"card__details__text",children:[Object(h.jsx)(_,{character:n}),Object(h.jsx)(O,{place:i,text:"L O C A T I O N"}),Object(h.jsx)(O,{place:c,text:"O R I G I N"})]})]}):null},p=function(e){var n,t=null===e||void 0===e||null===(n=e.characters)||void 0===n?void 0:n.results,i=Object(a.useState)(""),c=Object(v.a)(i,2),s=c[0],d=c[1];return null===t||void 0===t?void 0:t.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"card",onClick:function(){return d(e.id)},children:[Object(h.jsx)("img",{alt:"Character card",className:"card__image ".concat("Dead"===e.status?"card__image--dead":""),src:e.image}),Object(h.jsxs)("div",{className:"card__text",children:[Object(h.jsx)("span",{children:e.name}),Object(h.jsx)("p",{children:e.species})]})]}),Object(h.jsxs)("div",{className:"card__details ".concat(s===e.id?"open":"close"),children:[Object(h.jsx)("div",{className:"card__details__button",children:Object(h.jsx)("button",{onClick:function(){return d("")},type:"button",children:"Close"})}),Object(h.jsx)(x,{selected:s,character:e})]})]},e.id)}))},f=function(){var e=Object(a.useState)(""),n=Object(v.a)(e,2),t=n[0],s=n[1],d=Object(c.gql)(i||(i=Object(u.a)(["\n    query getCharacters($page: Int, $filter: FilterCharacter) {\n      characters(page: $page, filter: $filter) {\n        info {\n          count\n        }\n        results {\n          id\n          name\n          status\n          species\n          type\n          gender\n          origin {\n            name\n            type\n            dimension\n            residents {\n              name\n            }\n          }\n          location {\n            name\n            type\n            dimension\n            residents {\n              name\n            }\n          }\n          image\n          episode {\n            air_date\n          }\n        }\n      }\n    }\n  "]))),l=Object(c.useLazyQuery)(d),r=Object(v.a)(l,2),o=r[0],j=r[1],b=j.data,_=j.error,g=j.loading,O=function(e){o({variables:{page:e,filter:{name:t}}})};return b&&document.querySelector(".background").classList.add("new__height"),(_||g)&&document.querySelector(".background").classList.remove("new__height"),g?Object(h.jsx)(m,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"search",children:[Object(h.jsx)("div",{className:"search__field",children:Object(h.jsx)("input",{value:t,placeholder:"Search characters",onChange:function(e){return s(e.target.value)}})}),Object(h.jsx)("div",{className:"search__button",children:Object(h.jsx)("button",{onClick:function(){return O(1)},type:"button",children:"Search"})})]}),b&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"search__result",children:Object(h.jsx)(p,{characters:b.characters})}),Object(h.jsx)("div",{className:"pages__counter",children:function(){for(var e,n,t=[],i=null===(e=b.characters)||void 0===e||null===(n=e.info)||void 0===n?void 0:n.count,c=i>20?Math.ceil(i/20):1,a=function(e){t.push(Object(h.jsx)("p",{className:"pages__counter--".concat(e),onClick:function(){return O(e)},children:e},e))},s=1;s<=c;s++)a(s);return t}()})]}),_&&Object(h.jsx)("span",{className:"search__error",children:"No character found!"})]})},N=function(){return Object(h.jsxs)("div",{className:"background",children:[Object(h.jsxs)("picture",{children:[Object(h.jsx)("source",{media:"(max-width: 767px)",srcSet:j}),Object(h.jsx)("img",{alt:"Rick and Morty logo",className:"logo",src:o})]}),Object(h.jsx)(f,{})]})},y=new c.ApolloClient({uri:"https://rickandmortyapi.com/graphql",cache:new c.InMemoryCache});l.a.render(Object(h.jsx)(c.ApolloProvider,{client:y,children:Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(N,{})})}),document.getElementById("root")),r()}},[[67,1,2]]]);
//# sourceMappingURL=main.8d82a149.chunk.js.map